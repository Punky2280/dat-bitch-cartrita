ğŸ¤ DeepgramService initialized
[DeepgramService] API key not configured - service will be limited
ğŸ—£ï¸ TextToSpeechService initialized
[TextToSpeechService] OpenAI API key not configured - service will be limited
âœ… Enhanced MessageBus with MCP initialized
ğŸ™ï¸ VoiceInteractionService initialized
[VoiceInteractionService] âŒ Initialization failed: TypeError: MessageBus.subscribe is not a function
    at VoiceInteractionService.initialize (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/VoiceInteractionService.js:26:18)
    at new VoiceInteractionService (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/VoiceInteractionService.js:17:10)
    at file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/VoiceInteractionService.js:192:16
    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)
ğŸŒŠ AmbientListeningService initialized
[AmbientListeningService] âœ… Service initialized
ğŸ‘ï¸ VisualAnalysisService initialized
[VisualAnalysisService] OpenAI API key not configured - service will be limited
[ServiceInitializer] Constructor initialized
[Knowledge] OPENAI_API_KEY not provided - some features will be limited
âœ… EncryptionService ready
[Index] ğŸš€ Starting Cartrita backend...
[dotenv@17.2.1] injecting env (30) from .env -- tip: ğŸ“¡ version env with Radar: https://dotenvx.com/radar
[EnhancedLangChainCoreAgent] ğŸ”„ Initializing as hierarchical supervisor...
[SensoryProcessingService] ğŸ§  Sensory processing service initialized
[Route Registration] Starting route registration...
[Route Registration] âœ… All API routes registered.
ğŸš€ Initializing Cartrita backend...
ğŸ”„ Waiting for database connection...
âœ… Database connection established
ğŸ§  Initializing LangChain Core Agent...
[CartritaSupervisor] ğŸš€ Initializing hierarchical multi-agent system...
[AgentToolRegistry] ğŸ› ï¸ Initializing tool registry...
[AgentToolRegistry] âœ… Registered tool: getCurrentDateTime (system)
[AgentToolRegistry] âœ… Registered tool: getSystemStatus (system)
[AgentToolRegistry] âœ… Registered tool: dalle_3 (image_generation)
[AgentToolRegistry] âœ… Registered tool: image_analyzer (image_generation)
[AgentToolRegistry] âœ… Registered tool: visual_editor (image_generation)
[AgentToolRegistry] âœ… Registered tool: wikipedia_search (research)
[AgentToolRegistry] âœ… Registered tool: duckduckgo_search (research)
[AgentToolRegistry] âœ… Registered tool: url_scraper (research)
[AgentToolRegistry] âœ… Registered tool: arxiv_search (research)
[AgentToolRegistry] âœ… Registered tool: news_search (research)
[AgentToolRegistry] âœ… Registered tool: calculator (coding)
[AgentToolRegistry] âœ… Registered tool: code_executor (coding)
[AgentToolRegistry] âœ… Registered tool: github_search (coding)
[AgentToolRegistry] âœ… Registered tool: code_reviewer (coding)
[AgentToolRegistry] âœ… Registered tool: doc_generator (coding)
[AgentToolRegistry] âš ï¸ Google Calendar tools unavailable: Missing llm instance to interact with Google Calendar
[AgentToolRegistry] âœ… Registered tool: calendar_api (scheduling)
[AgentToolRegistry] âœ… Registered tool: timezone_converter (scheduling)
[AgentToolRegistry] âœ… Registered tool: meeting_scheduler (scheduling)
[AgentToolRegistry] âœ… Registered tool: grammar_checker (writing)
[AgentToolRegistry] âœ… Registered tool: style_analyzer (writing)
[AgentToolRegistry] âœ… Registered tool: content_optimizer (writing)
[AgentToolRegistry] âœ… Registered tool: plagiarism_checker (writing)
[AgentToolRegistry] âœ… Registered tool: task_tracker (task_management)
[AgentToolRegistry] âœ… Registered tool: workflow_engine (task_management)
[AgentToolRegistry] âœ… Registered tool: priority_analyzer (task_management)
[AgentToolRegistry] âœ… Registered tool: data_analyzer (analytics)
[AgentToolRegistry] âœ… Registered tool: chart_generator (analytics)
[AgentToolRegistry] âœ… Registered tool: statistics_engine (analytics)
[AgentToolRegistry] âœ… Registered tool: joke_generator (humor)
[AgentToolRegistry] âœ… Registered tool: meme_creator (humor)
[AgentToolRegistry] âœ… Registered tool: humor_analyzer (humor)
[AgentToolRegistry] âœ… Registered tool: design_tools (design)
[AgentToolRegistry] âœ… Registered tool: mockup_generator (design)
[AgentToolRegistry] âœ… Registered tool: ux_analyzer (design)
[AgentToolRegistry] âœ… Registered tool: security_scanner (security)
[AgentToolRegistry] âœ… Registered tool: knowledge_query (knowledge)
[AgentToolRegistry] âœ… Registered tool: file_analyzer (utility)
[AgentToolRegistry] âœ… Successfully registered 37 tools
[AgentToolRegistry] ğŸ“‹ Available tool categories:
  âœ… system: 2 tools
  âœ… image_generation: 3 tools
  âœ… research: 5 tools
  âœ… coding: 5 tools
  âœ… scheduling: 3 tools
  âœ… writing: 4 tools
  âœ… task_management: 3 tools
  âœ… analytics: 3 tools
  âœ… humor: 3 tools
  âœ… design: 3 tools
  âœ… security: 1 tools
  âœ… knowledge: 1 tools
  âœ… utility: 1 tools
[CartritaSupervisor] ğŸ“ Registering sub-agents...
[CartritaSupervisor] âœ… Registered researcher agent
[CartritaSupervisor] âœ… Registered codewriter agent
[CartritaSupervisor] âœ… Registered artist agent
[CartritaSupervisor] âœ… Registered writer agent
[CartritaSupervisor] âœ… Registered scheduler agent
[CartritaSupervisor] âœ… Registered taskmanager agent
[CartritaSupervisor] âœ… Registered comedian agent
[CartritaSupervisor] âœ… Registered analyst agent
[CartritaSupervisor] âœ… Registered designer agent
[CartritaSupervisor] âœ… Registered security agent
[CartritaSupervisor] âœ… Registered supervisor agent
[CartritaSupervisor] ğŸ“Š Successfully registered 11 sub-agents
[CartritaSupervisor] ğŸ—ï¸ Building StateGraph...
[CartritaSupervisor] âœ… StateGraph compiled successfully
[CartritaSupervisor] âœ… Successfully initialized hierarchical system
[CartritaSupervisor] ğŸ“Š Features enabled:
  âœ… StateGraph-based agent orchestration
  âœ… Explicit agent handoffs with Command objects
  âœ… Tool permission enforcement per agent
  âœ… Context preservation across agent delegation
  âœ… Private agent scratchpads and state management
  âœ… Workflow execution and monitoring
  âœ… 11 specialized sub-agents registered
âœ… LangChain Core Agent initialized
ğŸ¤– Initializing agent systems...
âš ï¸ Some agents failed to initialize, continuing startup...
âš ï¸ Agent AgentSystem failed: initializeAgents is not a function
ğŸ”§ Initializing services...
[ServiceInitializer] Starting Cartrita Iteration 21 service initialization...
[ServiceInitializer] Initializing core services...
[ServiceInitializer] âœ“ Deepgram service available
[ServiceInitializer] âœ“ Visual analysis service available
[ServiceInitializer] âœ“ Text-to-speech service available
[ServiceInitializer] âœ“ Voice interaction service available
[ServiceInitializer] âœ“ Ambient listening service available
[ServiceInitializer] Initializing multi-modal services...
âœ… WorkflowEngine v2.1 initialized with LangChain StateGraph support
[ServiceInitializer] âœ“ WorkflowEngine initialized
[ServiceInitializer] Setting up cross-service event listeners...
[ServiceInitializer] Error setting up event listeners: TypeError: VisualAnalysisService.on is not a function
    at ServiceInitializer.setupServiceEventListeners (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/ServiceInitializer.js:182:31)
    at ServiceInitializer._performInitialization (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/ServiceInitializer.js:113:12)
    at ServiceInitializer.initializeServices (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/ServiceInitializer.js:38:39)
    at startServer (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/index.js:348:38)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
ğŸ¤– BaseAgent MultiModalFusionAgent created with ID: MultiModalFusionAgent_1754293724920
[ServiceInitializer] Error initializing MultiModal Fusion Agent: TypeError: MessageBus.subscribe is not a function
    at MultiModalFusionAgent.setupMessageBus (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/system/BaseAgent.js:30:16)
    at new BaseAgent (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/system/BaseAgent.js:25:10)
    at new MultiModalFusionAgent (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/agi/consciousness/MultiModalFusionAgent.js:9:5)
    at ServiceInitializer._performInitialization (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/ServiceInitializer.js:117:29)
    at ServiceInitializer.initializeServices (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/src/services/ServiceInitializer.js:38:39)
    at startServer (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/index.js:348:38)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[ServiceInitializer] ğŸ‰ Cartrita Iteration 21 services initialized successfully!
[ServiceInitializer] Available features:
  â€¢ Speech-to-text with Deepgram
  â€¢ Wake word detection ("Cartrita!")
  â€¢ Feminine urban voice synthesis
  â€¢ Live voice chat mode
  â€¢ Ambient listening and environmental sound analysis
  â€¢ Visual analysis with OpenAI Vision
  â€¢ Multi-modal sensory fusion
  â€¢ Context-aware personality adaptation
  â€¢ Workflow automation engine
  â€¢ Enhanced LangChain agent orchestration
âš ï¸ System initialized with 1 errors (degraded mode)
ğŸ’¥ Uncaught Exception: Error: listen EADDRINUSE: address already in use :::8000
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at startServer (file:///home/robbie/development/dat-bitch-cartrita/packages/backend/index.js:356:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 8000
}

ğŸ›‘ Received uncaughtException, initiating graceful shutdown...
[ServiceInitializer] Cleaning up services...
[ServiceInitializer] âœ“ Services cleaned up
ğŸ“¡ HTTP server closed
ğŸ—„ï¸ Database connections closed.
âœ… Graceful shutdown completed
